
> soni-cms@1.0.0 deploy:app
> opennextjs-cloudflare build && opennextjs-cloudflare deploy


ÔöîÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÉ
Ôöé OpenNext ÔÇö Cloudflare build Ôöé
ÔööÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÿ

WARN OpenNext is not fully compatible with Windows.
WARN For optimal performance, it is recommended to use Windows Subsystem for Linux (WSL).
WARN While OpenNext may function on Windows, it could encounter unpredictable failures during runtime.
App directory: E:\Antigravity\soni-cms
Next.js version : 16.1.6
@opennextjs/cloudflare version: 1.16.1
@opennextjs/aws version: 3.9.14

ÔöîÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÉ
Ôöé OpenNext ÔÇö Building Next.js app Ôöé
ÔööÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÿ


> soni-cms@1.0.0 build
> cross-env NODE_OPTIONS="--no-deprecation --max-old-space-size=8000" next build

Ôû▓ Next.js 16.1.6 (Turbopack)
- Environments: .env

ÔÜá The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
  Creating an optimized production build ...
Turbopack build encountered 3 warnings:
./src/app/(payload)
Package @payloadcms/next can't be external
The request @payloadcms/next/css matches serverExternalPackages (or the default list).
Only .mjs, .cjs, .js, .json, or .node can be handled by Node.js.


./src/app/(payload)/api/[...slug]
Package @payloadcms/next can't be external
The request @payloadcms/next/css matches serverExternalPackages (or the default list).
Only .mjs, .cjs, .js, .json, or .node can be handled by Node.js.


./src/app/(payload)/api/graphql-playground
Package @payloadcms/next can't be external
The request @payloadcms/next/css matches serverExternalPackages (or the default list).
Only .mjs, .cjs, .js, .json, or .node can be handled by Node.js.


Ô£ô Compiled successfully in 7.6s
  Running TypeScript ...
  Collecting page data using 23 workers ...
[DEBUG_SONI] payload.config.ts loading...
[DEBUG_SONI] PAYLOAD_SECRET present: true
[DEBUG_SONI] payload.config.ts loading...
[DEBUG_SONI] PAYLOAD_SECRET present: true
[DEBUG_SONI] payload.config.ts loading...
[DEBUG_SONI] PAYLOAD_SECRET present: true
[DEBUG_SONI] Transmissions beforeOperation: read
[DEBUG_SONI] payload.config.ts loading...
[DEBUG_SONI] PAYLOAD_SECRET present: true
Error: Failed to collect configuration for /admin/[[...segments]]
    at ignore-listed frames {
  [cause]: Error: Failed to load external module @payloadcms/next-63b069c48ca83adb/layouts: TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension ".css" for E:\Antigravity\soni-cms\node_modules\react-image-crop\dist\ReactCrop.css
      at Context.externalImport [as y] (E:\Antigravity\soni-cms\.next\server\chunks\ssr\[turbopack]_runtime.js:518:15)
      at async (E:\Antigravity\soni-cms\.next\server\chunks\ssr\[root-of-the-server]__2169e543._.js:1:9741)
}

> Build error occurred
Error: Failed to collect page data for /admin/[[...segments]]
    at ignore-listed frames {
  type: 'Error'
}
opennextjs-cloudflare build

Build an OpenNext Cloudflare worker

Options:
      --help                                Show help                  [boolean]
      --version                             Show version number        [boolean]
  -c, --config                              Path to Wrangler configuration file
                                                                        [string]
      --configPath                          Path to Wrangler configuration file
                                                           [deprecated] [string]
  -e, --env                                 Wrangler environment to use for
                                            operations                  [string]
  -s, --skipNextBuild, --skipBuild          Skip building the Next.js app
                                                      [boolean] [default: false]
      --noMinify                            Disable worker minification
                                                      [boolean] [default: false]
      --skipWranglerConfigCheck             Skip checking for a Wrangler config
                                                      [boolean] [default: false]
      --openNextConfigPath                  Path to the OpenNext configuration
                                            file                        [string]
      --dangerouslyUseUnsupportedNextVersi  Allow using unsupported Next.js
      on                                    versions  [boolean] [default: false]

Error: Command failed: npm run build
    at genericNodeError (node:internal/errors:985:15)
    at wrappedFn (node:internal/errors:539:14)
    at checkExecSyncError (node:child_process:925:11)
    at Object.execSync (node:child_process:997:15)
    at buildNextjsApp (file:///E:/Antigravity/soni-cms/node_modules/@opennextjs/aws/dist/build/buildNextApp.js:15:8)
    at build (file:///E:/Antigravity/soni-cms/node_modules/@opennextjs/cloudflare/dist/cli/build/build.js:49:9)
    at async buildCommand (file:///E:/Antigravity/soni-cms/node_modules/@opennextjs/cloudflare/dist/cli/commands/build.js:21:5) {
  status: 1,
  signal: null,
  output: [ null, null, null ],
  pid: 22816,
  stdout: null,
  stderr: null
}
